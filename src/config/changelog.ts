export interface ChangelogEntry {
  version: string; // semver without build hash
  date: string; // YYYY-MM-DD
  added?: string[];
  improved?: string[];
  fixed?: string[];
  notes?: string[];
}

// Keep newest first. This list is shown in Info (F1) and acts as user-facing release notes.
export const CHANGELOG: ChangelogEntry[] = [
  {
    version: "0.1.63",
    date: "2025-12-21",
    improved: [
      "Composer: кнопка отправки теперь выглядит «неактивной», когда отправлять нельзя (не вводит в заблуждение)",
      "Mobile: поле ввода сообщений использует системный sans‑шрифт (ближе к Telegram по ощущению)",
      "Автофокус composer: на iPad/гибридных устройствах с мышью/трекпадом фокус ставится сразу после выбора чата",
    ],
  },
  {
    version: "0.1.62",
    date: "2025-12-21",
    improved: ["Labs: ios-input-assistant.html теперь содержит атрибуты поля ввода прямо в HTML (проверка работает даже при строгом CSP)"],
  },
  {
    version: "0.1.61",
    date: "2025-12-21",
    improved: [
      "iOS PWA: workaround для панели Undo/Redo/✓ применяется при фокусе на текстовые поля (кроме полей ID/@handle)",
      "Добавлена диагностическая страница: /labs/ios-input-assistant.html",
    ],
  },
  {
    version: "0.1.60",
    date: "2025-12-21",
    improved: ["Авторизация: добавлены кнопки «показать/скрыть пароль» в окне входа/регистрации"],
  },
  {
    version: "0.1.59",
    date: "2025-12-21",
    fixed: ["ПКМ по контакту/чату в сайдбаре больше не «роняет» скролл списка (стабилизация до/после contextmenu)"],
  },
  {
    version: "0.1.58",
    date: "2025-12-21",
    improved: ["Убран неиспользуемый legacy web-код (старые файлы app/state/main/style) — меньше путаницы и «мертвых меню»"],
  },
  {
    version: "0.1.57",
    date: "2025-12-21",
    improved: [
      "Composer: кнопка отправки теперь единообразно «ягодка» (без конфликтующих стилей), в режиме редактирования — галочка",
      "Каретка в поле ввода сообщений: оставили нативную (меньше «скачет» на десктопе)",
    ],
  },
  {
    version: "0.1.56",
    date: "2025-12-21",
    added: ["Info (F1) с журналом изменений и мини‑инструкцией прямо в приложении"],
    improved: ["Подгрузка истории изменений порциями по 20 версий (автоподгрузка при прокрутке)"],
  },
  {
    version: "0.1.55",
    date: "2025-12-21",
    fixed: ["После выхода показываем сохранённый ID в шапке (ID больше не «пропадает»)"],
  },
  {
    version: "0.1.54",
    date: "2025-12-21",
    fixed: ["ID в окне входа не очищается при первом открытии модалки (после выхода просит только пароль)"],
    improved: ["Workaround для iOS PWA: панель Undo/Redo/✓ появляется реже при вводе текста"],
  },
];
