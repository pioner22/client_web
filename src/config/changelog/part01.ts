import type { ChangelogEntry } from "./types";

export const CHANGELOG_PART_01: ChangelogEntry[] = [
  {
    version: "0.1.723",
    date: "2026-02-17",
    fixed: [
      "Mobile/iOS: догрузка истории стала стабильнее — устранено «залипание» при прокрутке к старым сообщениям.",
      "Mobile/iOS: загрузка превью/медиа стала устойчивее при проблемах HTTP (автоматический fallback на резервный канал).",
    ],
    improved: ["Диагностика: расширены события в DBG для точного разбора проблем с медиа."],
  },
  {
    version: "0.1.722",
    date: "2026-02-14",
    fixed: [
      "Mobile/iOS: видимые превью медиа (image/video) теперь всегда инициируют file_get (даже без prefetch/Save-Data) — превью не остаются пустыми.",
      "Mobile/iOS: chatHost touch-tracking не перехватывает жест, если touchstart был на кнопке/ссылке; микродвижение не отменяет tap по превью.",
    ],
  },
  {
    version: "0.1.721",
    date: "2026-02-13",
    fixed: [
      "Mobile: изображения в viewer восстанавливаются при ошибке загрузки (refresh URL → fallback скачивание).",
      "Mobile: загрузка thumb использует cache: no-store (устранение проблем кэша на iOS).",
    ],
  },
  {
    version: "0.1.720",
    date: "2026-02-13",
    fixed: ["Mobile: по тапу на превью фото теперь стабильно открывается viewer."],
  },
  {
    version: "0.1.712",
    date: "2026-02-09",
    improved: [
      "Звонки: главное окно Jitsi для исходящего аудио/видео открывается сразу после создания комнаты (без ожидания принятия).",
      "Звонки: единое поведение отображения call-screen на desktop/mobile в исходящем сценарии.",
    ],
  },
  {
    version: "0.1.711",
    date: "2026-02-09",
    improved: ["Звонки: окно ошибок (toast) стало компактнее."],
  },
  {
    version: "0.1.704",
    date: "2026-02-04",
    fixed: ["Viewer: для portrait фото центрирование по высоте стабилизировано (учёт нижних оверлеев применяется к .viewer-media, меньше браузерных расхождений)."],
  },
  {
    version: "0.1.703",
    date: "2026-02-04",
    fixed: [
      "Viewer (браузер): высота медиа считается от --app-vh (без 100vh/адрес-бара), портретные фото/видео больше не «проваливаются вниз».",
      "Видео: в viewer используем poster из thumb и пытаемся автозапускать по клику; если inline-play в истории не удаётся — открываем viewer.",
    ],
  },
  {
    version: "0.1.702",
    date: "2026-02-02",
    fixed: ["Viewer (desktop PWA): портретные фото/видео больше не «проваливаются вниз» из‑за нижней ленты/подписи — центрируем медиа с учётом оверлеев."],
  },
  {
    version: "0.1.701",
    date: "2026-02-02",
    fixed: ["Viewer: медиа больше не выглядит «примагниченным к низу» — шапка всегда overlay, центрирование по высоте стабильно."],
  },
  {
    version: "0.1.700",
    date: "2026-02-02",
    fixed: ["Viewer (desktop PWA): портретные фото/видео теперь центрируются по высоте (шапка поверх, без смещения вниз)."],
  },
  {
    version: "0.1.699",
    date: "2026-02-02",
    fixed: ["Видео: превью появляется сразу после отправки и обновляется без перезахода (локальный poster + быстрый опрос thumb для видимых сообщений)."],
  },
  {
    version: "0.1.698",
    date: "2026-02-02",
    fixed: ["Viewer: видео больше не «сжимает» окно из‑за стилей (ограничение 80% применяется только к самому медиа, шапка не съезжает)."],
  },
  {
    version: "0.1.697",
    date: "2026-02-02",
    fixed: ["Mobile: viewer шапка (имя/хэндл/дата) теперь не ломает лейаут — одна строка с ellipsis, медиа не «съезжает»."],
  },
  {
    version: "0.1.696",
    date: "2026-01-30",
    fixed: ["Viewer: фото/видео открываются по центру и занимают не больше ~80% экрана (≈20% поля вокруг — удобнее смотреть и перематывать)."],
  },
  {
    version: "0.1.695",
    date: "2026-01-30",
    fixed: ["История: превью медиа стабильно 33% даже если thumb_w/thumb_h не пришли (авто‑определяем размеры thumb при загрузке + fallback)."],
  },
  {
    version: "0.1.694",
    date: "2026-01-30",
    fixed: ["История: масштаб превью медиа снова 33% даже после перезапуска/кеша (восстановление thumb теперь сохраняет размеры)."],
  },
  {
    version: "0.1.693",
    date: "2026-01-30",
    fixed: ["Viewer: фото/видео открываются по центру без апскейла/растяжения (без эффекта «1000%»)."],
  },
  {
    version: "0.1.692",
    date: "2026-01-30",
    fixed: ["UI: на больших экранах шапка/поиск/композер теперь выровнены по центру контейнера сообщений (full-screen/resize без «уезда» влево)."],
  },
  {
    version: "0.1.691",
    date: "2026-01-30",
    improved: [
      "Медиа: превью фото/видео в истории уменьшено (≈33% от исходного превью) — лента компактнее, меньше визуальных скачков.",
      "Фото: в истории теперь предпочитаем thumb (полный файл открывается по клику).",
    ],
  },
  {
    version: "0.1.690",
    date: "2026-01-30",
    fixed: [
      "Медиа: видео с iOS-именами вида IMG_XXXX.MP4/MOV больше не определяется как «Фото» (превью и воспроизведение работают корректно).",
      "Файлы: при отправке всегда передаём mime (fallback по имени), чтобы /files/<fid> отдавал корректный Content-Type (важно при nosniff).",
    ],
  },
  {
    version: "0.1.682",
    date: "2026-01-27",
    improved: ["Reply/Forward: сервер теперь сохраняет refs и отдаёт их в истории (DM/группы; MVP: внутри текущего чата)."],
  },
  {
    version: "0.1.681",
    date: "2026-01-27",
    fixed: [
      "Медиа: превью фото/видео в истории теперь cache-first (восстанавливается из кеша после перезагрузки)",
      "Медиа: если сервер не отдаёт thumb — тихо подкачиваем и кэшируем медиа до 24MB (без «Фото/Видео» плейсхолдера)",
    ],
  },
  {
    version: "0.1.679",
    date: "2026-01-27",
    improved: ["Чатлист: папки как в Telegram (server-synced): вкладки, create/rename/delete, добавить/убрать чат через контекст-меню"],
  },
  {
    version: "0.1.678",
    date: "2026-01-27",
    improved: ["Чатлист: pinned порядок стабилен и сортировка по last_ts корректная во всех режимах (mobile/PWA/desktop)"],
  },
  {
    version: "0.1.677",
    date: "2026-01-27",
    improved: ["История: stable unread divider + read markers + «вниз» прыгает к unread, иначе к самому низу"],
  },
  {
    version: "0.1.676",
    date: "2026-01-27",
    improved: ["История: убрана кнопка «Загрузить ещё» — подгрузка сообщений происходит при скролле вверх, с аккуратным loader"],
  },
  {
    version: "0.1.670",
    date: "2026-01-26",
    improved: ["Сайдбар: «Архив (N)» теперь открывает архив сразу (сверху) и прокручивает список к началу"],
  },
  {
    version: "0.1.669",
    date: "2026-01-26",
    improved: [
      "Медиа: альбомы в истории теперь поддерживают фото+видео (grid) с бейджем ▶ на видео",
      "Viewer: rail для альбомов показывает весь набор медиа (tweb-like)",
      "Медиа: компактный вид для sticker (webp) и «круглых» видео (heuristic)",
    ],
  },
  {
    version: "0.1.668",
    date: "2026-01-26",
    improved: ["Чатлист: добавлен архив (В архив/Убрать из архива) с кнопкой «Архив» в поиске; хранится локально на устройстве"],
  },
  {
    version: "0.1.667",
    date: "2026-01-26",
    improved: ["Реакции: тексты/подсказки уточнены под модель «1 реакция на пользователя» (поставить/заменить/убрать)"],
  },
  {
    version: "0.1.666",
    date: "2026-01-26",
    improved: ["Медиа: viewer открывает файлы cache-first и иначе по http-ссылке (stream), без ожидания полного скачивания"],
    fixed: ["Медиа: корректный mime для viewer и скачиваний (используем mime из transfer/file_url + расширенный fallback по имени)"],
  },
  {
    version: "0.1.665",
    date: "2026-01-26",
    improved: ["Viewer: добавлена лента медиа (rail) и индикатор загрузки (preloader)"],
  },
  {
    version: "0.1.664",
    date: "2026-01-26",
    improved: ["Viewer: добавлены действия «Поделиться/Переслать/Удалить», а также pinch-zoom/pan на сенсорных устройствах"],
  },
  {
    version: "0.1.663",
    date: "2026-01-26",
    improved: ["Viewer: улучшены масштабирование и панорамирование изображений (zoom/pan)"],
  },
  {
    version: "0.1.662",
    date: "2026-01-26",
    improved: ["Файлы: добавлены настройки «Автоскачивание» (лимиты для фото/видео/файлов, хранится локально на устройстве)"],
  },
  {
    version: "0.1.661",
    date: "2026-01-26",
    improved: [
      "Медиа: авто‑скачивание файлов в истории теперь с tweb-like лимитами (фото 1MB, видео 15MB, файлы 3MB) — без «тихого» скачивания больших файлов",
    ],
  },
  {
    version: "0.1.660",
    date: "2026-01-26",
    improved: ["Поиск: в режиме выбора «Сервер» добавлена кнопка «Закрепить/Открепить» для выбранных чатов"],
  },
  {
    version: "0.1.659",
    date: "2026-01-26",
    improved: ["Шапка чата: добавлено меню ⋮ (topbar) для действий по чату", "Меню чата: добавлен пункт «Выбрать сообщения»"],
  },
  {
    version: "0.1.658",
    date: "2026-01-26",
    improved: ["Контакты: добавлен блок «Топ» (частые контакты; server top_peers)"],
  },
  {
    version: "0.1.657",
    date: "2026-01-23",
    improved: ["Лейаут (desktop): правая панель (info) в узком окне теперь открывается как оверлей и не «сжимает» чат"],
  },
  {
    version: "0.1.656",
    date: "2026-01-23",
    improved: ["Очистка истории: владелец чата/доски может очистить историю для всех (room_clear)"],
  },
  {
    version: "0.1.655",
    date: "2026-01-23",
    improved: [
      "Реакции: добавлена кнопка «＋» рядом с реакциями (bubble UI) — выбор любой реакции",
      "Реакции: добавлено окно «Реакции…» со списком всех реакций (tweb‑like)",
    ],
  },
  {
    version: "0.1.654",
    date: "2026-01-23",
    improved: [
      "Reply: добавлено меню в helper bar — «показать сообщение», «цитировать», «не отвечать» (tweb‑like)",
      "Forward: в окне выбора получателей добавлены опции «показывать отправителя/подпись»",
    ],
  },
  {
    version: "0.1.653",
    date: "2026-01-23",
    improved: ["Отправка: подготовлен переиспользуемый flow для send‑menu/попапов (draft + preserveComposer) — без изменения поведения"],
  },
  {
    version: "0.1.652",
    date: "2026-01-23",
    improved: [
      "Запланированная отправка: окно планирования теперь поддерживает до 365 дней вперёд (tweb‑like)",
      "Запланированная отправка: в личном чате (когда контакт offline) доступна кнопка «Когда будет онлайн» прямо в окне планирования",
      "Saved/self: планирование отображается как «Напоминание» (если чат с самим собой используется как Saved)",
    ],
  },
  {
    version: "0.1.651",
    date: "2026-01-23",
    improved: [
      "Отправка: send‑menu на кнопке отправки — «без звука», «запланировать», «когда будет онлайн» (tweb‑like)",
      "Отправка: удержание ЛКМ (desktop) открывает send‑menu (как long‑press)",
      "Отправка: кнопка отправки подсвечивается, пока меню открыто",
    ],
  },
  {
    version: "0.1.650",
    date: "2026-01-23",
    improved: [
      "Выбор сообщений: чекбоксы для фото/видео теперь отображаются поверх превью (внутри медиа-блока)",
      "Выбор сообщений: альбом — чекбокс внутри альбома (в правом верхнем углу) + tweb-like визуальное выделение (scale/overlay)",
      "Выбор сообщений: документы/аудио получают более заметное выделение в режиме выбора (scale/overlay)",
    ],
  },
  {
    version: "0.1.649",
    date: "2026-01-23",
    improved: [
      "Выбор сообщений: панель выбора теперь отображается поверх композера (как в tweb) — композер скрывается в режиме выбора",
      "Выбор сообщений: действия сгруппированы справа (контейнеры left/right)",
    ],
  },
  {
    version: "0.1.648",
    date: "2026-01-23",
    improved: [
      "Выбор сообщений: альбом (2+ фото) выбирается как группа (выбираются все элементы)",
      "Выбор сообщений: чекбоксы для документов/аудио размещены внутри блока вложения (без ломания лейаута)",
      "Выбор сообщений: для исходящих сообщений чекбокс справа от пузыря",
      "Выбор: запрещено выбирать action/service и сообщения со статусом sending/queued/error",
    ],
  },
  {
    version: "0.1.647",
    date: "2026-01-23",
    improved: [
      "Выбор сообщений: добавлены чекбоксы в истории (selection mode)",
      "Выбор сообщений: Shift+Click выбирает диапазон, drag по чекбоксам — массовый выбор/снятие",
      "Выбор: клики по ссылкам/кнопкам/аудио/видео не ломаются в режиме выбора",
    ],
  },
  {
    version: "0.1.646",
    date: "2026-01-23",
    improved: [
      "Контекст‑меню сообщений: если выделен текст внутри сообщения — доступны «Скопировать/Цитировать/Искать выделенное»",
      "Запланированные сообщения (очередь): добавлены действия «Отправить сейчас» и «Изменить время…»",
      "Выбор сообщений: добавлены действия «Скопировать», «Скачать» (для файлов) и «Отправить сейчас» (для запланированных)",
    ],
  },
  {
    version: "0.1.645",
    date: "2026-01-23",
    improved: [
      "Сообщения: контекст‑меню стало ближе к tweb — добавлены «Цитировать», «Скачать», «Скопировать ссылку», «Перевести» и «Ответы» (если есть)",
    ],
  },
  {
    version: "0.1.644",
    date: "2026-01-23",
    improved: [
      "Чатлист: сортировка стала tweb/Telegram-like — pin → по времени последнего сообщения (без лишних «прыжков» от unread/draft)",
      "Контакты: подпись online/last-seen обновляется автоматически (cadence ~30s)",
    ],
  },
  {
    version: "0.1.643",
    date: "2026-01-23",
    improved: [
      "Чатлист: tweb parity — menu-open фон выровнен с hover (filled-secondary), subtitle на desktop = 12px",
      "Чатлист: на мобильных активная строка не инвертирует цвета (как в Telegram)",
      "Сообщения: max-width bubble на handhelds выровнен под tweb (calc(100% - 89px))",
    ],
  },
  {
    version: "0.1.642",
    date: "2026-01-23",
    improved: ["Info: «История изменений» обновлена — добавлены последние релизы 0.1.638–0.1.641"],
  },
  {
    version: "0.1.641",
    date: "2026-01-23",
    improved: ["Авторизация: экран входа стал full-page (tweb-like) — верстка через `#auth-pages`, без «маленькой модалки»"],
    notes: ["Авторизация: размеры/брейкпоинты выровнены под tweb (max-width 720, высоты 810/760, брейк 721)"],
  },
  {
    version: "0.1.640",
    date: "2026-01-22",
    improved: ["Сайдбар: фильтры чатов доступны на desktop browser и PWA standalone (не только mobile)"],
    notes: ["Сайдбар: добавлены фильтры «Личные» и «Группы»"],
  },
  {
    version: "0.1.639",
    date: "2026-01-22",
    improved: ["Реакции: в контекстном меню сообщений добавлен выбор «другая реакция» (через emoji-popover)"],
    notes: ["Tweb parity: закрыт список pending UI-пунктов; device/PWA проверки можно выполнить позже"],
  },
  {
    version: "0.1.638",
    date: "2026-01-22",
    improved: ["Аватары: загрузка/редактирование обновляет аватар в UI сразу (sidebar/chat) — без перезагрузки страницы"],
  },
  {
    version: "0.1.637",
    date: "2026-01-21",
    fixed: [
      "Сообщения: статус «прочитано» больше не понижается обратно в «доставлено» при поздних ACK",
      "Синхронизация: unread_counts обновляется на всех устройствах/вкладках пользователя",
    ],
    improved: [
      "Статусы DM: добавлен этап «отправлено» (✓) и receipt delivered_to_device (✓✓)",
      "Файлы: входящие file_offer авто‑принимаются в активной вкладке (и в лидере, если все вкладки в фоне) — без «залипания»",
    ],
    notes: ["Тех.: новый тип события message_delivered_to_device (best‑effort, без лома старых клиентов)"],
  },
  {
    version: "0.1.636",
    date: "2026-01-21",
    improved: [
      "Уведомления: single-notifier между вкладками (Web Locks + BroadcastChannel) — без дублей тостов/звуков/Notification",
      "Тех.: client_info отправляет instance_id (на вкладку) и build_id; сервер логирует их для диагностики",
    ],
  },
  {
    version: "0.1.635",
    date: "2026-01-21",
    fixed: [
      "Файлы: входящие файлы больше не требуют «Принять» (без лишних уведомлений/полосок в списке диалогов)",
      "Файлы: оффер не пересылается повторно при каждом логине (без «мигания» уведомлений)",
    ],
    improved: [
      "Уведомления: входящие файлы показывают системное уведомление, когда вкладка скрыта",
      "Уведомления: входящие файлы отправляют Web Push, если получатель оффлайн",
      "Info: «История изменений» — только последние 5 записей (без «Показать ещё»)",
      "Тех.: client_info отправляет device_id/run_id + platform hints (web/PWA) для диагностики",
    ],
  },
  {
    version: "0.1.626",
    date: "2026-01-20",
    improved: ["Файлы: загрузка/скачивание через HTTP (/files) — без base64-чанков и со streaming/Range"],
    notes: ["Тех.: resumable upload (offset) + ACK file_downloaded → file_received"],
  },
  {
    version: "0.1.625",
    date: "2026-01-20",
    fixed: ["История: альбом/группировка фото (2+ подряд) — убран «отступ справа» у msg-out; тайлы остаются безрамочными"],
  },
  {
    version: "0.1.623",
    date: "2026-01-20",
    improved: ["Info: «История изменений» показывает последние 5 записей (без кнопки «Показать ещё»)"],
  },
  {
    version: "0.1.622",
    date: "2026-01-20",
    notes: [
      "Info: обновили «Историю изменений» (теперь включает последние релизы)",
      "Обновление клиента: если после деплоя версия не изменилась — нажмите Ctrl/Cmd+U (или сделайте hard reload/перезапуск PWA)",
      "Тех.: версия web-клиента повышается перед production deploy (patch bump) — чтобы версия в Info всегда соответствовала релизу",
    ],
  },
  {
    version: "0.1.621",
    date: "2026-01-20",
    improved: [
      "Viewer: zoom по клику по картинке теперь с pan/scroll (можно двигать увеличенное изображение)",
      "История: медиа-сообщения (фото/видео/аудио/альбомы) — без рамок/«карточек»",
    ],
  },
  {
    version: "0.1.620",
    date: "2026-01-20",
    fixed: ["История: исходящие фото/видео больше не рисуются с большой «аурой»/пустотой вокруг медиа"],
  },
  {
    version: "0.1.619",
    date: "2026-01-20",
    improved: ["История: исходящие вложения (фото/видео/альбомы) визуально в правой зоне (не «по центру»)"],
    notes: ["Тех.: добавлен обязательный bump версии web-клиента перед production deploy"],
  },
  {
    version: "0.1.618",
    date: "2026-01-16",
    fixed: [
      "PWA/desktop: меню (контекстное) больше не дергается при фоновых обновлениях; клики не срываются",
      "История: восстановление медиа-превью из локального кэша батчами (меньше дерганья после перезагрузки)",
      "Файлы: отображаем отдельный список реально кэшированных файлов (CacheStorage)",
      "Кэш: при ошибке квоты делаем best-effort очистку старых файлов и повтор cache.put",
      "Медиа: aspect-ratio cache сохраняется между перезагрузками",
    ],
  },
  {
    version: "0.1.617",
    date: "2026-01-16",
    fixed: ["PWA: Service Worker не валит обновление при ошибках CacheStorage/квоты; fallback на сеть для index/ассетов"],
  },
  {
    version: "0.1.616",
    date: "2026-01-16",
    fixed: ["PWA: обновление стало надёжнее (устойчивый install, BUILD_ID от SW, recovery при залипании)"],
  },
  {
    version: "0.1.615",
    date: "2026-01-16",
    improved: ["Desktop PWA: история стабильнее при докачке/превью (якорь + aspect-ratio cache)"],
  },
  {
    version: "0.1.614",
    date: "2026-01-15",
    improved: ["Медиа: превью image/video с корректным ratio; video viewer без autoplay/mute; автопауза offscreen"],
  },
  {
    version: "0.1.613",
    date: "2026-01-15",
    fixed: ["iOS: композер «прилипает» к клавиатуре (без большого зазора снизу)"],
  },
  {
    version: "0.1.612",
    date: "2026-01-15",
    fixed: ["iOS: убрана чёрная полоса снизу при открытии по ссылке (fullscreen)"],
  },
  {
    version: "0.1.611",
    date: "2026-01-15",
    fixed: [
      "Desktop PWA: автообновление может примениться даже при черновике в композере (после паузы; черновики сохраняются)",
    ],
  },
  {
    version: "0.1.610",
    date: "2026-01-15",
    fixed: [
      "Mobile: выбранная строка в чатлисте/контактах не инвертирует текст (без белого текста на прозрачном фоне)",
    ],
  },
  {
    version: "0.1.609",
    date: "2026-01-12",
    improved: [
      "История: стабилизация положения при лэйаут-сдвигах (якорь на видимом сообщении)",
    ],
  },
  {
    version: "0.1.608",
    date: "2026-01-12",
    improved: [
      "История: стабильная ширина скролла (scrollbar-gutter) и анти-флап wide-режима",
    ],
  },
  {
    version: "0.1.607",
    date: "2026-01-12",
    improved: [
      "История: кеш используется раньше (без лишней перезагрузки), подгрузка без зацикливания",
      "История: выравнивание текста сообщений стабилизировано",
    ],
  },
  {
    version: "0.1.606",
    date: "2026-01-12",
    improved: [
      "История: ширина пузырей 85% и центрирование ленты сообщений (desktop)",
    ],
  },
  {
    version: "0.1.605",
    date: "2026-01-12",
    improved: [
      "Фото: максимальная ширина ограничена 75% окна истории сообщений (desktop)",
    ],
  },
  {
    version: "0.1.604",
    date: "2026-01-12",
    improved: [
      "Файлы: входящие медиа принимаются автоматически и сразу ставятся в загрузку",
      "Файлы: уведомление «Входящий файл» исчезает после авто-принятия",
    ],
  },
  {
    version: "0.1.603",
    date: "2026-01-12",
    fixed: [
      "Файлы: принятие входящих файлов запускает авто-скачивание при зависании",
      "Файлы: входящий файл в открытом чате сразу помечается прочитанным",
      "Чатлист: индикатор упоминания не залипает после прочтения",
    ],
  },
  {
    version: "0.1.602",
    date: "2026-01-12",
    improved: [
      "Диалоги: desktop-типографика и геометрия строк ближе к tweb",
      "Контакты: компактные строки выровнены по высоте и ритму",
      "Mobile: хвостовая колонка и размеры аватаров стабильнее в списке",
    ],
  },
  {
    version: "0.1.601",
    date: "2026-01-12",
    improved: [
      "Медиа: размеры и ratio приведены к tweb (desktop 420×400, mobile 340×340)",
      "Альбомы: ширина/зазор сетки ближе к tweb (gap 1px)",
    ],
  },
  {
    version: "0.1.600",
    date: "2026-01-12",
    fixed: ["Медиа: предотвращены прыжки истории при догрузке фото/видео"],
    improved: [
      "Медиа: фиксированный кадр для фото/видео без динамической смены aspect-ratio",
      "Альбомы: жёсткая сетка и стабильные размеры ячеек в истории",
    ],
  },
  {
    version: "0.1.599",
    date: "2026-01-12",
    fixed: [
      "История: устранено пустое пространство над первым сообщением при полной загрузке",
      "История: автоповторы таймаута не мигают лоадером",
    ],
    improved: ["История: автозагрузка старых сообщений не срабатывает на автоскролле/сдвигах лейаута"],
  },
  {
    version: "0.1.598",
    date: "2026-01-12",
    fixed: ["История: снижены рывки/мигание при первичной загрузке (автоскролл ждёт историю)"],
    improved: ["История: warmup-подгрузка не стартует, пока активный чат ещё загружается"],
  },
  {
    version: "0.1.597",
    date: "2026-01-12",
    fixed: ["Видео: звук по умолчанию выключен, автоплей остаётся без аудио"],
  },
  {
    version: "0.1.596",
    date: "2026-01-12",
    improved: ["Mobile: нижнее меню «Сообщения/Профиль/Файлы» убрано"],
  },
  {
    version: "0.1.595",
    date: "2026-01-12",
    improved: [
      "История: адаптивные пороги виртуализации для mobile/slow network, меньше перегрузки при скролле",
      "История: кеш расширен и сохраняется при сворачивании вкладки",
      "Сообщения: meta-время и нижние отступы ровнее, меньше пересечений текста",
      "Контакты: tail-колонка стабильнее по высоте/ширине, ритм строки ровнее",
      "Медиа: повторное восстановление превью из кеша + центрирование в альбомах",
      "PWA: принудительное обновление делает hard reload при спорных версиях; iOS-подсказка короче",
      "Файлы: индикатор прогресса компактнее",
    ],
  },
  {
    version: "0.1.594",
    date: "2026-01-12",
    improved: [
      "История: sticky-даты и line-height ближе к tweb, меньше наложений при прокрутке",
      "Сообщения: meta-отступ и межстрочный ритм стабильнее на desktop/mobile",
      "Контакты: tail-колонка распределяет время/бейджи без пересечений",
      "Медиа: prefetch/очередь file_get адаптируются под медленную сеть и Save-Data",
      "История: warmup/preview паузятся в скрытой вкладке и при Save-Data",
    ],
  },
  {
    version: "0.1.593",
    date: "2026-01-12",
    improved: [
      "История: адаптивная параллельная прогрузка (5–7 потоков) и более мягкие лимиты на mobile",
      "История: расширен кеш (дольше хранится и больше сообщений на чат)",
      "Сообщения: увеличен нижний отступ и meta-время ниже текста на desktop/mobile",
      "Контакты: хвостовая колонка шире, сетка строк стабильнее при ресайзе",
      "PWA: принудительное обновление использует updateLatest при устаревшем build id, автоапдейт не мешает загрузке",
    ],
  },
  {
    version: "0.1.592",
    date: "2026-01-12",
    improved: [
      "История: отступ времени ниже текста стабильнее на desktop/mobile",
      "Медиа: inline видео получило play/pause поверх превью, авторазмер без лишнего кропа",
      "Альбомы фото: сетка плотнее и адаптивнее на мобильных экранах",
      "Контакты: типографика и хвостовая колонка чище, меньше пересечений",
      "PWA: install toast центрируется с безопасными отступами и переносами",
    ],
  },
  {
    version: "0.1.591",
    date: "2026-01-12",
    improved: [
      "История: альбомы фото группируются начиная с 2 сообщений, сетка плотнее и стабильнее",
      "Медиа: авторазмер превью фиксирует aspect-ratio без рывков",
      "Аудио: плейсхолдер + автоподгрузка в истории, контроль play/pause",
      "Шапка/подвал: более ровные тени и аккуратный фон",
    ],
  },
  {
    version: "0.1.590",
    date: "2026-01-11",
    improved: [
      "История: снижена нагрузка на mobile при фоновой прогрузке",
      "Медиа: очередь file_get (до 10 параллельно, prefetch 5-7) и расширенный кеш",
      "Фото/видео: стабилизирован aspect-ratio, автофокус по центру без резких прыжков",
      "Видео: auto-play в истории и viewer, звук по умолчанию выключен",
      "Видео: сервер конвертирует неподдерживаемые форматы в mp4",
    ],
  },
  {
    version: "0.1.589",
    date: "2026-01-11",
    improved: [
      "История: колонка сообщений, поиск и шапка прижаты к левому краю (меньше центрирования)",
      "Сообщения: больше вертикальный ритм, meta переносится и стабильно ниже текста",
      "Контакты: заголовок/время не пересекаются, ритм строк устойчивее",
      "Медиа: превью шире, увеличена максимальная высота",
      "История: усилена параллельная прогрузка и расширен кеш",
    ],
    fixed: ["История: даты не перекрывают друг друга при прокрутке"],
  },
  {
    version: "0.1.588",
    date: "2026-01-11",
    improved: [
      "Шапка/подвал: более чёткое разделение (тень/фон) и аккуратные отступы",
      "История: увеличен отступ meta — время стабильнее ниже текста на desktop/mobile",
      "Сообщения: уменьшен горизонтальный паддинг пузырей и более ровный вертикальный ритм",
      "Контакты: tail‑колонка выровнена, читаемость заголовков/времени улучшена",
      "Медиа: увеличена максимальная ширина превью (особенно на desktop wide)",
    ],
  },
  {
    version: "0.1.587",
    date: "2026-01-11",
    improved: [
      "История: wide‑layout прижимает колонку к левому краю и расширяет контейнер сообщений",
      "Сообщения: увеличен отступ meta (время ниже текста), меньше наложений",
      "Медиа: превью изображений/видео крупнее и устойчивее по ширине",
      "Контакты: шире tail‑колонка и правые отступы заголовков",
      "История: усилена параллельная прогрузка и увеличен кеш",
      "Файлы: индикатор прогресса компактнее и вращается",
      "PWA install toast: ширина адаптируется под экран, длинные строки переносятся",
    ],
    fixed: ["PWA: принудительное обновление использует updateLatest при устаревшем build id"],
  },
  {
    version: "0.1.585",
    date: "2026-01-11",
    improved: [
      "История: стабильнее вертикальный ритм и отступы meta (время ниже текста)",
      "История: wide‑layout активируется раньше, колонка шире и без центрирования",
      "Контакты: геометрия и шрифты ближе к tweb (высота/тайминги/подзаголовок)",
      "Медиа: увеличена ширина превью на desktop wide",
      "История: усилена параллельная прогрузка и расширен локальный кеш",
    ],
  },
  {
    version: "0.1.584",
    date: "2026-01-11",
    improved: [
      "История: более широкая колонка, увеличенный вертикальный ритм и стабильная meta‑строка",
      "Сообщения: увеличены внутренние отступы и межстрочные интервалы (desktop/mobile)",
      "Медиа: превью изображений/видео крупнее и стабильнее по ширине",
      "Контакты: более ровная сетка и выравнивание tail/таймингов",
      "История: увеличены лимиты кеша и параллельная прогрузка",
    ],
  },
  {
    version: "0.1.583",
    date: "2026-01-11",
    improved: [
      "История: шире колонка сообщений на desktop и стабильные отступы при ресайзе",
      "Сообщения: больше вертикального ритма и перенос meta без налезаний",
      "Контакты: выравнивание хвоста и плотность строк на desktop/mobile",
      "История: увеличена параллельная прогрузка и объём локального кеша",
      "Файлы: прогресс загрузки компактнее, без текстовой плашки",
    ],
  },
  {
    version: "0.1.582",
    date: "2026-01-11",
    improved: [
      "PWA desktop: история и инпут тянутся к левому краю, без центрирования колонки",
      "Сообщения: увеличен отступ времени и межстрочный ритм, меньше налезаний",
      "История: sticky-даты читаемее и стабильнее при прокрутке",
      "PWA: install toast на mobile компактнее и не выходит за границы",
    ],
    fixed: ["PWA: принудительное обновление делает ручной reload даже без waiting (fallback)"],
  },
  {
    version: "0.1.581",
    date: "2026-01-11",
    improved: [
      "Файлы: прогресс загрузки/скачивания теперь компактный круговой индикатор (без полосы)",
      "Файлы: статус загрузки компактнее, без процента в тексте",
    ],
  },
  {
    version: "0.1.580",
    date: "2026-01-11",
    improved: [
      "История: фоновая параллельная подгрузка нескольких чатов для ускоренного открытия",
      "История: кеш учитывает пустые чаты и курсоры для стабильного восстановления",
      "Сообщения: время отступает ниже текста (без налезания) на desktop/mobile",
      "PWA: install toast центрируется и ограничен по высоте экрана",
    ],
    fixed: ["PWA: update_required учитывает версии без build-hash для автообновления"],
  },
  {
    version: "0.1.579",
    date: "2026-01-11",
    improved: [
      "История: фоновая prefetch-подгрузка после первичной загрузки (параллельный before/delta)",
      "Сообщения: капшены медиа ближе к пузырю (меньше лишних зазоров)",
      "Медиа: time-бейдж на just-media читаемее на светлых превью",
      "Mobile: пузырь истории шире на узких экранах (меньше «узких» сообщений)",
    ],
    fixed: ["PWA: принудительное обновление не залипает на ожидании Service Worker (timeout ready)"],
  },
  {
    version: "0.1.578",
    date: "2026-01-11",
    improved: ["PWA: install toast на mobile центрируется и переносит длинный текст/кнопки без выхода за границы"],
  },
  {
    version: "0.1.577",
    date: "2026-01-11",
    fixed: [
      "PWA: принудительное обновление использует updateLatest как fallback для build id",
      "PWA: ручное обновление при updateLatest делает hard reload с восстановлением (boot recover)",
    ],
  },
  {
    version: "0.1.576",
    date: "2026-01-11",
    fixed: [
      "PWA: update_required с build id регистрирует SW при отсутствии и пробрасывает build id в автообновление",
      "PWA: кнопка «Обновить» использует hard reload с восстановлением (boot recover)",
    ],
  },
  {
    version: "0.1.575",
    date: "2026-01-11",
    improved: [
      "PWA: обновление учитывает BUILD_ID без waiting (skipWaiting) и перезапускает при новой сборке",
      "PWA: принудительное обновление запрашивает build id у SW и регистрирует SW при необходимости",
    ],
  },
  {
    version: "0.1.574",
    date: "2026-01-11",
    improved: [
      "История: клиентский кэш последних сообщений и курсоров (быстрее открытие чатов)",
      "История: параллельные before/since запросы для устойчивой синхронизации",
      "Сообщения: выровнены внутренние отступы и хвосты без артефактов (telegram-exact)",
      "Медиа: подписи под вложениями компактнее (telegram-exact)",
    ],
  },
  {
    version: "0.1.573",
    date: "2026-01-11",
    improved: [
      "Скины: оставлен только Telegram (точный)",
      "Медиа: cache-first автоподгрузка превью с типами по data-attrs",
    ],
    fixed: ["Сообщения: артефакт квадратного tail устранён (tweb-маска)"],
  },
  {
    version: "0.1.572",
    date: "2026-01-11",
    improved: [
      "Медиа: распознавание фото/видео/аудио по имени устойчиво к префиксам и скобкам",
      "История/медиа: автоподгрузка превью и истории повторяется после обновления списка/трансферов",
    ],
  },
  {
    version: "0.1.571",
    date: "2026-01-11",
    improved: [
      "Сообщения: интервалы групп/пузырей выровнены под tweb (telegram-exact)",
      "Медиа: автоподгрузка превью запускается сразу после рендера истории",
      "История: автодогрузка по высоте после рендера (стабильнее первичная загрузка)",
    ],
  },
  {
    version: "0.1.570",
    date: "2026-01-11",
    improved: ["Сообщения: DM без имён/аватаров, группы — ближе к tweb (telegram-exact)"],
  },
  {
    version: "0.1.569",
    date: "2026-01-11",
    improved: ["Сообщения: группировка имён/аватаров ближе к tweb (telegram-exact)"],
  },
  {
    version: "0.1.568",
    date: "2026-01-11",
    improved: [
      "Сообщения: метаданные времени встроены в bubble (telegram-exact, ближе к tweb)",
      "Медиа: превью в чате обновляются при прогрессе/готовности файла",
    ],
    fixed: ["История: «Загрузить ещё» доступна при наличии cursor даже без has_more"],
  },
  {
    version: "0.1.567",
    date: "2026-01-11",
    improved: ["Медиа: в viewer добавлена кнопка перехода к сообщению и полирован topbar (tweb)"],
  },
  {
    version: "0.1.566",
    date: "2026-01-11",
    improved: ["Медиа: в viewer добавлен topbar с автором и датой, ближе к tweb"],
    fixed: ["История: hasMore заполняется на любом непустом ответе без has_more (не «залипает» без «Загрузить ещё»)"],
  },
  {
    version: "0.1.565",
    date: "2026-01-11",
    improved: ["История: кнопка «Загрузить ещё» теперь появляется после первичного хвоста при отсутствии has_more"],
    fixed: ["История: historyHasMore заполняется на первичной подгрузке, чтобы не «залипать» без кнопки"],
  },
  {
    version: "0.1.564",
    date: "2026-01-11",
    improved: ["Сообщения: bubble-токены tweb для паддингов/радиусов (telegram-exact, меньше «разброса»)"],
    fixed: ["Медиа: распознавание фото/видео/аудио учитывает имена с разделителями/путями/параметрами (ENG/RU)"],
  },
  {
    version: "0.1.563",
    date: "2026-01-11",
    improved: ["Компоузер: вертикальные отступы и gap ближе к tweb, safe-area учитывается без среза"],
    fixed: ["Медиа: фото/видео/аудио распознаются по имени без расширения (ENG/RU), авто-подгрузка превью"],
  },
  {
    version: "0.1.562",
    date: "2026-01-11",
    improved: [
      "История/сообщения: ширина колонки совпадает с композером без дополнительного сужения",
      "Сообщения: max-width пузырей 85% от контейнера без жёсткого cap (tweb)",
      "Сообщения: более плотный внутренний ритм (gap 2px)",
    ],
    fixed: ["Медиа: превью фото/видео распознаются по имени без расширения (img/photo/video)"],
  },
  {
    version: "0.1.561",
    date: "2026-01-11",
    improved: [
      "Сообщения: tweb‑палитра пузырей и max-width 85% (telegram-exact)",
      "Сообщения: плоские пузыри без лишней тени (telegram-exact)",
      "Контакт-лист: menu-open фон ближе к tweb; активная строка только на десктопе",
    ],
  },
  {
    version: "0.1.560",
    date: "2026-01-11",
    improved: ["Фон истории/контактов ближе к tweb (telegram-exact)", "Chat padding 13/8 как в tweb"],
  },
  {
    version: "0.1.559",
    date: "2026-01-11",
    improved: ["История/сообщения: ширина колонки ближе к tweb (bubbles-inner)", "Контакт-лист: фон ближе к tweb"],
  },
  {
    version: "0.1.558",
    date: "2026-01-11",
    improved: ["История: автодогрузка не блокируется при неопределённом has_more (меньше «залипаний»)"],
    fixed: ["Медиа: битые превью сбрасываются и перезапрашиваются быстрее"],
  },
  {
    version: "0.1.557",
    date: "2026-01-11",
    improved: ["История: fallback подгрузки продолжает загрузку, пока сервер возвращает строки (меньше «залипаний»)"],
    fixed: ["Медиа: автоподгрузка превью работает даже при пустом mime/неполном имени файла"],
  },
  {
    version: "0.1.556",
    date: "2026-01-11",
    improved: ["Сообщения: имена/аватары в группах/досках группируются по tweb (имя на первом, аватар на tail)"],
    fixed: ["Медиа: автоподгрузка превью работает даже при неизвестном mime"],
  },
  {
    version: "0.1.555",
    date: "2026-01-11",
    improved: ["Сообщения: tweb‑типографика (16px/1.3125, meta 12px, автор 14px)"],
  },
  {
    version: "0.1.554",
    date: "2026-01-11",
    improved: ["Медиа: превью используют fileId/mime из transfer/offer, меньше пустых фото"],
  },
  {
    version: "0.1.553",
    date: "2026-01-11",
    improved: ["Сообщения: max-width пузырей ограничен 30rem (tweb), меньше «длинных капель»"],
  },
  {
    version: "0.1.552",
    date: "2026-01-11",
    improved: ["История/сообщения: ширина колонки всегда совпадает с композером (tweb)"],
  },
  {
    version: "0.1.551",
    date: "2026-01-11",
    improved: [
      "История: авто-повтор загрузки, если история не подгружена",
      "История/сообщения: ширина колонки выровнена с композером (tweb)",
    ],
    fixed: ["Медиа: прогрев превью из кэша не зависит от historyLoaded"],
  },
  {
    version: "0.1.550",
    date: "2026-01-11",
    improved: ["История: retry-плашка теперь доступна даже при наличии локальных сообщений"],
  },
  {
    version: "0.1.549",
    date: "2026-01-11",
    improved: [
      "История: добавлена кнопка повтора при неудачной загрузке",
      "История: ширина контейнера сообщений учитывает chat-input padding (tweb)",
      "Сообщения: max-width пузырей 85% от контейнера (tweb)",
      "Медиа: альбомы и пустые превью держат tweb-ширину/аспект",
    ],
  },
  {
    version: "0.1.548",
    date: "2026-01-11",
    improved: ["Сообщения: скругления групповых пузырей выровнены по tweb (mid-bubble)"],
  },
  {
    version: "0.1.547",
    date: "2026-01-11",
    improved: ["История: увеличен отступ после группы (tweb bubble-margin-big)"],
  },
  {
    version: "0.1.546",
    date: "2026-01-11",
    improved: [
      "Сообщения: окно группировки 121s, как в tweb (меньше «слипшихся» блоков)",
      "Медиа: альбомы группируются в том же окне (ближе к tweb)",
    ],
  },
  {
    version: "0.1.545",
    date: "2026-01-11",
    improved: [
      "Сообщения: включены bubble-tail в tweb-ритме (мягкая геометрия)",
      "История: групповые отступы выровнены с gap истории",
    ],
  },
  {
    version: "0.1.544",
    date: "2026-01-11",
    improved: [
      "Сообщения: max-width пузырей приведен к tweb (30rem)",
      "История: расстояние между сообщениями ближе к tweb (gap 2px)",
    ],
    fixed: ["Медиа: превью всегда сохраняют file_id для восстановления при битом url"],
  },
  {
    version: "0.1.543",
    date: "2026-01-11",
    improved: [
      "История: ширина контейнера сообщений приведена к tweb (max-width с учетом отступов)",
      "Сообщения: max-width пузырей рассчитывается от ширины контейнера истории (tweb 85%)",
    ],
    fixed: [
      "История: подгрузка не залипает, если сервер отдает has_more=0 при полном лимите",
      "Медиа: повторная автодогрузка превью при неудачной загрузке",
    ],
  },
  {
    version: "0.1.542",
    date: "2026-01-11",
    improved: [
      "Сообщения: ширина пузыря под контент (tweb‑поведение, без «длинных капель»)",
      "История: подгрузка менее хрупкая при отсутствии has_more в ответе сервера",
      "Медиа: превью изображений загружаются сразу (без зависания lazy‑режима)",
    ],
  },
  {
    version: "0.1.541",
    date: "2026-01-11",
    improved: [
      "Медиа: ширины превью/аудио/альбомов выровнены под сообщения (tweb‑ритм)",
      "Медиа: hover‑трансформации отключены для более стабильного вида",
    ],
  },
  {
    version: "0.1.540",
    date: "2026-01-11",
    improved: [
      "Сообщения: ширина пузырей, хвосты и DM‑выравнивание ближе к tweb",
      "История: контейнер сообщений стабилен при скролле и ререндере",
    ],
    fixed: [
      "История: добавлен таймаут и автоповтор запросов, чтобы не зависала подгрузка",
      "Медиа: автодогрузка превью фото работает и для входящих файлов",
    ],
  },
  {
    version: "0.1.539",
    date: "2026-01-11",
    improved: ["История: системные сообщения оформлены service-плашкой как в tweb"],
  },
  {
    version: "0.1.538",
    date: "2026-01-11",
    improved: [
      "История: пустой чат центрирован и оформлен как service-плашка (tweb)",
      "История: для пустого чата убран нижний псевдо‑отступ",
    ],
  },
  {
    version: "0.1.537",
    date: "2026-01-11",
    improved: [
      "Медиа: just‑media использует highlight‑фон для тайм‑бейджа (tweb)",
      "Медиа: тайм‑бейдж чуть отступает от правого/нижнего края (tweb)",
    ],
  },
  {
    version: "0.1.536",
    date: "2026-01-11",
    improved: [
      "Медиа: just‑media мета выровнена по правому краю (как в tweb)",
      "Медиа: тайм‑фон для image/video без текста — по message‑time background",
    ],
  },
  {
    version: "0.1.535",
    date: "2026-01-11",
    improved: [
      "Медиа: видео без текста тоже в режиме just‑media (без пузыря)",
      "Медиа: image/video превью без рамки и hover‑карточки",
    ],
  },
  {
    version: "0.1.534",
    date: "2026-01-11",
    improved: [
      "Медиа: image‑only вложения без пузыря (just‑media, прозрачный фон)",
      "Сообщения: лишняя карточка вокруг одиночных фото убрана",
    ],
  },
  {
    version: "0.1.533",
    date: "2026-01-11",
    improved: [
      "Медиа: изображения без текста теперь без обрезки (contain, без hover‑зума)",
      "История: кнопка «Загрузить ещё» оформлена как разделитель, ближе к tweb",
    ],
  },
  {
    version: "0.1.532",
    date: "2026-01-11",
    improved: [
      "Медиа: тайм‑бейдж и кнопки поверх превью читаемее (фон + blur)",
      "Медиа: лёгкий нижний градиент и более воздушная подпись у вложений",
    ],
  },
  {
    version: "0.1.531",
    date: "2026-01-11",
    improved: [
      "Медиа-превью: лимиты размеров ближе к tweb (420/451px)",
      "Медиа-превью: max-height видео/фото под tweb (400px)",
    ],
  },
  {
    version: "0.1.530",
    date: "2026-01-11",
    improved: [
      "Файлы в истории: тюнинг размеров/типографики и иконки под tweb",
      "Файлы в истории: кнопка скачивания компактнее и ближе к tweb",
    ],
  },
  {
    version: "0.1.529",
    date: "2026-01-11",
    improved: [
      "Файлы в истории: карточка документа ближе к tweb (иконка, отступы, высота)",
      "Файлы в истории: типографика имени и meta выровнены под tweb",
    ],
  },
  {
    version: "0.1.528",
    date: "2026-01-11",
    improved: [
      "Viewer overlay: переключатели prev/next добавлены в боковые зоны (tweb-поведение)",
      "Viewer overlay: стрелки появляются при наведении и не перекрывают подпись",
    ],
  },
  {
    version: "0.1.527",
    date: "2026-01-11",
    improved: [
      "Viewer overlay: topbar кнопки и навигация ближе к tweb (минимальная хрома, hover-opacity)",
      "Viewer overlay: подписи к медиа аккуратнее (line-height, прозрачность, hover/focus, mobile align)",
    ],
  },
  {
    version: "0.1.526",
    date: "2026-01-11",
    improved: ["История: date separators/headers ближе к tweb (размер, отступы, типографика)"],
  },
  {
    version: "0.1.525",
    date: "2026-01-11",
    improved: [
      "Медиа: play‑overlay ближе к tweb (фон/геометрия/иконка)",
      "Медиа: кнопки действий поверх превью приведены к tweb‑стилю",
    ],
  },
  {
    version: "0.1.524",
    date: "2026-01-11",
    improved: [
      "Медиа: тайм‑бейджи на вложениях ближе к tweb (позиция, плотность, фон)",
      "Сообщения: фон time‑бейджей теперь берется из message‑time background (tweb‑token)",
    ],
  },
  {
    version: "0.1.523",
    date: "2026-01-10",
    improved: [
      "История: unread‑разделитель ближе к tweb (фон/ритм/line‑height)",
      "История: jump‑to‑bottom кнопка по tweb (позиция, размер, тени, бейдж)",
    ],
  },
  {
    version: "0.1.522",
    date: "2026-01-10",
    improved: [
      "Helper bar: reply/forward ближе к tweb (размеры, отступы, акцент, кнопка отмены)",
      "Панель действий: выбор сообщений выровнен под tweb (ширина, кнопки, ритм)",
    ],
  },
  {
    version: "0.1.521",
    date: "2026-01-10",
    improved: [
      "Viewer overlay: подпись поверх медиа (tweb‑позиция, max-height, градиент)",
      "Viewer overlay: компактные кнопки действий и download в шапке",
      "Viewer overlay: быстрый zoom для изображений (1x/2x + dblclick)",
    ],
  },
  {
    version: "0.1.520",
    date: "2026-01-10",
    improved: [
      "История: мета‑строка сообщений без лишнего верхнего отступа (tweb‑ритм)",
      "Ответы/пересылки: компактнее meta/preview, выровнены line‑height",
      "Медиа: подписи под вложениями приведены к размеру/line‑height основного текста",
    ],
  },
  {
    version: "0.1.519",
    date: "2026-01-10",
    improved: [
      "История: более tweb‑группировка (ровный внутренний ритм + больше воздуха между группами)",
      "Ответы/пересылки: компактный preview с clamp до 2 строк",
      "Медиа: тайм‑бейдж подогнан по tweb (18px высота, аккуратный паддинг)",
      "Сообщения: подписи и превью с выровненным line-height",
    ],
  },
  {
    version: "0.1.518",
    date: "2026-01-10",
    improved: [
      "История: группировка сообщений ближе к tweb (компактный внутренний ритм + больше воздуха между группами)",
      "Ответы/пересылки: компактный блок preview, переносы и защита от overflow",
      "Медиа: альбомы плотнее (2px gap), аккуратные скругления, time‑badge читаемее",
      "Сообщения: мета‑строка и имена аккуратнее (ellipsis для длинных имён)",
    ],
  },
  {
    version: "0.1.517",
    date: "2026-01-10",
    improved: [
      "История: tweb‑ширина колонки (728px) и bubble max‑width 85% от контейнера",
      "Композер: выровненные размеры/отступы по tweb (chat‑pad ~13px, input 54px)",
      "Wide‑режим: убрано растягивание сообщений до краёв",
      "Типографика: базовый размер сообщений 16px и мета 12px",
    ],
  },
  {
    version: "0.1.516",
    date: "2026-01-10",
    improved: [
      "История: tweb‑ритм отступов и ширины пузырей, выверенные радиусы в группах",
      "Медиа: превью в пузыре без лишних отступов, аккуратные оверлей‑кнопки",
      "Сообщения: компактнее мета‑строка и тайм‑бэйдж для медиа без подписи",
    ],
  },
  {
    version: "0.1.515",
    date: "2026-01-10",
    improved: ["Обновления: при update_required с build id запускаем SW update без модального окна"],
  },
  {
    version: "0.1.514",
    date: "2026-01-10",
    improved: [
      "PWA: офлайн‑очередь исходящих сообщений и автодосылка через Background Sync",
      "PWA: тихие push‑сигналы пробуждают синхронизацию очереди",
      "Outbox: синхронизация статусов с сервис‑воркером и очистка при разлогине",
    ],
  },
  {
    version: "0.1.513",
    date: "2026-01-10",
    improved: [
      "История: колонка и композер выровнены по общему max-width, аккуратный центр без прилипания к краям",
      "Сообщения: обновлены слои/радиусы/мета по 8px‑сетке, исходящие без аватаров и лишней шапки",
      "Ответы/пересылки/вложения: защита от overflow и более крупные превью",
    ],
  },
  {
    version: "0.1.512",
    date: "2026-01-10",
    improved: [
      "История: колонка сообщений расширена и выровнена влево, единая сетка 8px и читабельный max-width",
      "Сообщения: мягкие карточки без хвостов, единый стиль пузырей/меты во всех скинах",
      "Вложения/ответы: упрощённые блоки, аккуратные отступы и контроль overflow",
      "Dark premium: обновлена палитра и кнопка отправки без фиолетового градиента",
    ],
  },
  {
    version: "0.1.511",
    date: "2026-01-10",
    improved: [
      "История: раскладка сообщений приведена к Telegram/tweb (радиусы 15/5, tail-форма как в tweb)",
      "История: ритм и зазоры повторяют tweb (2px gap, line-height 1.3125, паддинги 8/4/5)",
      "Мета: время и статусы выровнены вправо внутри bubble, как в tweb",
    ],
  },
  {
    version: "0.1.510",
    date: "2026-01-09",
    improved: [
      "Layout: колонка сообщений и композер выровнены по tweb (728px, центрированная колонка)",
      "Сообщения: bubble‑ширина 85% от колонки, исходящие выравнены вправо",
      "Композер: иконки внутри поля, размеры/зазоры приведены к tweb",
    ],
  },
  {
    version: "0.1.509",
    date: "2026-01-09",
    improved: [
      "История: ширина колонки сообщений ограничена по phi и выровнена по левому краю",
      "История: более собранная типографика и ритм строк для читаемости",
      "Композер: уточнены размеры, зазоры и визуальное согласование кнопок с полем ввода",
    ],
  },
  {
    version: "0.1.508",
    date: "2026-01-09",
    improved: [
      "Композер: иконки вынесены в отдельные кнопки, поле ввода стало самостоятельным элементом",
      "Композер: уменьшена высота строки, выровнены размеры кнопок и поля",
    ],
  },
  {
    version: "0.1.507",
    date: "2026-01-09",
    improved: [
      "Desktop: история и композер растянуты на полную ширину во всех скинах",
      "История: bubble‑режим больше не ограничивает ширину контейнера сообщений",
    ],
  },
  {
    version: "0.1.506",
    date: "2026-01-09",
    improved: [
      "Desktop: убрано центрирование истории и строки ввода, ширина теперь 100%",
    ],
  },
  {
    version: "0.1.505",
    date: "2026-01-09",
    improved: [
      "Desktop: увеличена ширина истории сообщений и строки ввода",
    ],
  },
  {
    version: "0.1.504",
    date: "2026-01-09",
    improved: [
      "Desktop: визуально разделены история сообщений и поле ввода в диалоге",
    ],
  },
  {
    version: "0.1.503",
    date: "2026-01-09",
    improved: [
      "Viewer overlay: header/actions/caption выровнены по phi‑ритму",
      "Viewer overlay: размеры навигации и safe‑area подогнаны по phi‑пропорциям",
    ],
  },
  {
    version: "0.1.502",
    date: "2026-01-09",
    improved: [
      "Композер: helper bar для reply/forward выровнен по phi‑ритму",
      "Панель действий: кнопки и контейнер подогнаны по phi‑пропорциям",
    ],
  },
  {
    version: "0.1.501",
    date: "2026-01-09",
    improved: [
      "Композер: phi‑ритм размеров и отступов для кнопок/поля ввода",
      "Композер: более ровные пропорции safe‑area и gap между действиями",
    ],
  },
  {
    version: "0.1.500",
    date: "2026-01-09",
    fixed: [
      "PWA/Desktop: автообновление не блокируется фокусом на пустом композере",
      "PWA/Desktop: обновления применяются надёжнее без ручной перезагрузки",
    ],
  },
  {
    version: "0.1.499",
    date: "2026-01-09",
    improved: [
      "История: плоский список сообщений без карточек/пузырей, единая колонка",
      "История: уплотнена группировка и аккуратные блоки вложений/ответов",
    ],
  },
  {
    version: "0.1.498",
    date: "2026-01-09",
    improved: [
      "История: full-screen группировка одной колонкой (Jabber/TWeb) без пузырей и «ёлочки»",
      "История: мета/реакции слева и сгруппированные цепочки без повторных аватаров",
    ],
  },
  {
    version: "0.1.497",
    date: "2026-01-08",
    improved: [
      "История: phi‑отступы, центр‑колонна и контроль ширины сообщений в full‑screen",
      "История: логин/аватарки и блоки пересылки/ответа выровнены без выхода за границы",
    ],
  },
  {
    version: "0.1.496",
    date: "2026-01-08",
    improved: [
      "Сообщения: внешний вид и форма унифицированы под стиль dark-premium во всех скинах",
    ],
  },
  {
    version: "0.1.495",
    date: "2026-01-08",
    improved: [
      "Скины: Telegram (точный) теперь по умолчанию",
      "Скины: оставлены Telegram (точный), Тёмная премиум и Amber",
    ],
  },
  {
    version: "0.1.494",
    date: "2026-01-08",
    improved: [
      "Скины: оставлены только стандартный, Telegram и тёмная премиальная темы",
    ],
  },
  {
    version: "0.1.493",
    date: "2026-01-08",
    improved: [
      "История: золотое сечение в геометрии, ритме и цветах сообщений",
      "История: более плавные джампы прокрутки (phi-скорость)",
    ],
  },
  {
    version: "0.1.492",
    date: "2026-01-08",
    improved: [
      "История: карточки сообщений более плоские и менее «пузырьковые» во всех скинах",
    ],
  },
  {
    version: "0.1.491",
    date: "2026-01-08",
    improved: [
      "Mobile: список в сайдбаре без лишнего отступа перед первым заголовком",
    ],
  },
  {
    version: "0.1.490",
    date: "2026-01-08",
    improved: [
      "Сайдбар: поиск с иконкой и более заметным фокусом",
      "Сайдбар: clear-кнопка поиска реагирует сразу и возвращает фокус",
    ],
  },
  {
    version: "0.1.489",
    date: "2026-01-08",
    improved: [
      "Контакты: в списке показывается статус (онлайн/last seen) и @handle",
      "Контакты: порядок контактов — online-first, затем last seen и имя",
      "Контакты: в табе Контакты убрана чат-мета (время/непрочитанные/реакции)",
    ],
  },
  {
    version: "0.1.488",
    date: "2026-01-08",
    improved: ["Контакты: добавлен заголовок секции для активного списка (tweb parity)"],
  },
  {
    version: "0.1.487",
    date: "2026-01-08",
    added: ["Сайдбар: архив контактов с переключателем в строке поиска (активные/архивные отдельно)"],
    improved: [
      "История: автодогрузка ранних сообщений начинается раньше при прокрутке вверх",
      "История: разделитель непрочитанных показывает количество",
      "Темы Telegram: menu-open фон в списке чатов выровнен с tweb",
    ],
  },
  {
    version: "0.1.486",
    date: "2026-01-07",
    fixed: ["PWA: принудительное обновление больше не показывает ошибку, если обновлений нет"],
  },
  {
    version: "0.1.485",
    date: "2026-01-07",
    improved: [
      "История: классический вид — пузыри не растягиваются на всю ширину",
      "История: классический вид — более плоские карточки без полос/глянца",
    ],
  },
  {
    version: "0.1.484",
    date: "2026-01-07",
    improved: [
      "История: вложения и подписи выровнены по отступам пузырей во всех скинах",
      "История: мета у вложений учитывает направление (in/out) и не съезжает",
    ],
  },
  {
    version: "0.1.483",
    date: "2026-01-05",
    fixed: [
      "PWA: исправлен цикл перезагрузки при совпадении версии и build-hash (активный buildId сохраняется)",
      "PWA: если SW уже активен и нет waiting — обновление не форсит перезагрузку",
    ],
  },
  {
    version: "0.1.482",
    date: "2026-01-05",
    fixed: [
      "PWA: авто‑обновление не замирает в ошибке — если SW уже активен, перезагружаемся; если нет — повторяем попытку",
      "PWA: убран блокирующий текст «Автообновление не удалось применить…» (заменено на тихий backoff)",
    ],
  },
];
